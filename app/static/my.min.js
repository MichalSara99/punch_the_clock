
$('select[name="searchYear"]').change(function(){
    $('select[name="searchWeek"]').empty();
   $.ajax({
       type: 'POST',
       url: '/get_year_month',
      data: JSON.stringify({year: $('select[name="searchYear"]').val(),
                            month: $('select[name="searchMonth"]').val() }),
      contentType: "application/json",
      dataType: "json",
      success: function(data){
            data = JSON.parse(data);
            $.each(data, function (k,v) {
                    var txt = '<option value = "'+k+'">'+v+'</option>'
                    $('select[name="searchWeek"]').append(txt);
                });
       },
       failure: function () {
            alert("Failed!");
        },
      dataType: 'html'
    });

});

$('select[name="searchMonth"]').change(function(){
    $('select[name="searchWeek"]').empty();
   $.ajax({
       type: 'POST',
       url: '/get_year_month',
      data: JSON.stringify({year: $('select[name="searchYear"]').val(),
                            month: $('select[name="searchMonth"]').val() }),
      contentType: "application/json",
      dataType: "json",
      success: function(data){
            data = JSON.parse(data);
            $.each(data, function (k,v) {
                    var txt = '<option value = "'+k+'">'+v+'</option>'
                    $('select[name="searchWeek"]').append(txt);
                });
       },
      dataType: 'html'
    });
});



